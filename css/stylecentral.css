/* CLEANED & ORDERED Neon-dark stylesheet
   - Duplicated/conflicting .post rules removed
   - Orb/canvas remnants removed
   - Keeps visual (neon green, dark) and responsive behaviors
   - Comments area preserved (no changes)
*/

/* Root variables */
:root{
  --neon: #00ff9c;
  --neon-2: #00d68a;
  --muted: #8af7cf;
  --card-bg: rgba(2,20,18,0.55);
  --panel-bg: rgba(0,0,0,0.45);
  --glass: rgba(255,255,255,0.02);
  --bg-dark: #021a15;
  --post-border: rgba(0,255,156,0.20);
}

/* Reset + base */
*{margin:0;padding:0;box-sizing:border-box;  font-family: "Lexend Deca", sans-serif;
}
html{scroll-behavior:smooth}
body{
  background:
    radial-gradient(1200px 600px at 10% 10%, rgba(0,200,120,0.06), transparent 12%),
    radial-gradient(900px 500px at 90% 80%, rgba(0,255,156,0.04), transparent 10%),
    linear-gradient(180deg, #041d17 0%, #02120d 40%, #000000 100%);
  color: var(--neon);
  padding:18px;
  min-height:100vh;
  -webkit-font-smoothing:antialiased;
}

/* Layout grid */
.grid-layout{
  max-width:1200px;
  margin:20px auto;
  padding:18px;
  display:grid;
  grid-template-columns:300px 1fr 320px;
  gap:18px;
  align-items:start;
  z-index:1;
}

/* Card base */
.card{
  background: linear-gradient(180deg, rgba(0,0,0,0.4), rgba(0,0,0,0.25));
  border:1px solid rgba(0,255,156,0.12);
  border-radius:12px;
  padding:14px;
  box-shadow:0 8px 30px rgba(0,0,0,0.6), inset 0 0 18px rgba(0,255,156,0.04);
  color:var(--neon);
}

/* Profile / avatar */
.profile-card{ text-align:center; display:flex; flex-direction:column; gap:10px; align-items:center; position:relative; }
#perfil-icone img, #avatar-img{
  width:88px; height:88px; border-radius:50%;
  border:3px solid rgba(0,255,156,0.18); box-shadow:0 6px 18px rgba(0,255,156,0.06);
}

/* Restaurar formatação do seletor de avatar (evita imagens gigantes) */
.profile-card #perfil-icone img,
.profile-card #avatar-img {
  width: 88px !important;
  height: 88px !important;
  max-width: 88px;
  max-height: 88px;
  object-fit: cover;
  border-radius: 50%;
  border: 3px solid rgba(0,255,156,0.18);
  box-shadow: 0 6px 18px rgba(0,255,156,0.06);
}

/* Container de seleção de avatar */
#selecao-avatar {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: center;
  align-items: center;
  padding-top: 8px;
}

/* Avatares opcionais (pequenos) */
#selecao-avatar img.avatar {
  width: 56px;
  height: 56px;
  max-width: 56px;
  max-height: 56px;
  object-fit: cover;
  border-radius: 50%;
  border: 2px solid rgba(0,255,156,0.06);
  transition: transform .12s ease, border-color .12s ease;
  cursor: pointer;
}
#selecao-avatar img.avatar:hover {
  transform: scale(1.08);
  border-color: rgba(0,255,156,0.18);
}

/* Hero */
.hero{text-align:center; grid-column:1/-1; z-index:2}
.hero h1{ color:var(--neon); font-size:2rem; letter-spacing:3px; text-shadow:0 0 18px rgba(0,255,156,0.35) }
.hero p{ color:var(--muted); font-size:0.95rem }

/* Buttons */
.btn{
  background:transparent;
  border:2px solid var(--neon);
  color:var(--neon);
  padding:8px 12px;
  border-radius:8px;
  cursor:pointer;
  font-weight:700;
  box-shadow:0 6px 20px rgba(0,255,156,0.06);
}
.btn:hover{ background:var(--neon); color:#002; transform:translateY(-2px); box-shadow:0 10px 34px rgba(0,255,156,0.18) }

/* Courses row */
.course-grid{
  display:flex; gap:22px; justify-content:center; align-items:stretch;
  flex-wrap:nowrap; overflow-x:auto; padding:12px 18px; margin-top:18px;
  scroll-behavior:smooth; -webkit-overflow-scrolling:touch;
}
.course-card{
  flex:0 0 300px; min-width:300px; max-width:300px; height:240px;
  display:flex; flex-direction:column; justify-content:space-between; text-align:center; padding:20px;
  border:2px solid rgba(0,255,156,0.18); border-radius:14px;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s;
}
.course-card:hover{ transform:translateY(-6px); border-color: rgba(0,255,156,0.30); box-shadow: 0 18px 38px rgba(0,0,0,0.6), inset 0 0 30px rgba(0,255,156,0.09) }

/* Feed: post composer */
.post-box { width:100%; }
.post-textarea{
  width:100%; resize:none; min-height:140px; max-height:220px; height:140px; overflow:auto;
  padding:12px; border-radius:10px; border:2px dashed rgba(0,255,156,0.12);
  background: linear-gradient(180deg, rgba(0,0,0,0.06), rgba(0,0,0,0.03)); color:var(--neon);
}

/* Avatars inside posts/comments */
.post-avatar, .post .meta img, .comment-avatar {
  width:48px; height:48px; border-radius:50%; object-fit:cover; border:2px solid rgba(0,255,156,0.12);
}

/* Post card (single unified rule) */
.post{
  border:2px solid var(--post-border);
  border-radius:14px;
  padding:18px;
  margin-bottom:18px;
  position:relative;
  background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.30));
  box-shadow:0 12px 30px rgba(0,0,0,0.55), inset 0 0 18px rgba(0,255,156,0.04);
  transition:box-shadow .18s ease, transform .12s ease, border-color .12s ease;
}
.post:hover{ transform:translateY(-4px); box-shadow:0 18px 40px rgba(0,0,0,0.6), inset 0 0 40px rgba(0,255,156,0.06); }

/* Post header layout: avatar+author left, quick poke right (keeps inside block) */
.post > .post-top{
  display:flex; justify-content:space-between; align-items:flex-start; gap:12px;
}
.post > .post-top .meta{ display:flex; gap:12px; align-items:center; flex:1 1 auto; z-index:2; }
.post .author strong{ color:var(--neon); display:block; }

/* Top-right quick actions (single poke) */
.post-top-actions{ display:flex; gap:8px; align-items:center; margin-left:12px; }
.post-top-actions .btn{ padding:8px 10px; border-radius:10px; min-width:96px }

/* Post content */
.post-content{
  margin-top:12px; color:var(--neon); font-size:14px; line-height:1.45; white-space:pre-wrap; z-index:1;
}

/* Bottom actions: inline row inside post (left aligned) */
.post-actions{
  display:flex; gap:12px; align-items:center; margin-top:14px; padding-top:6px;
  border-top:1px dashed rgba(0,255,156,0.04);
}
.post-actions .btn{
  padding:8px 12px; border-radius:10px; background:transparent; border:2px solid rgba(0,255,156,0.14);
  color:var(--neon); min-width:120px; text-align:center;
}
.post-actions .like-count{ margin-right:8px; font-weight:800; color:var(--neon); }

/* Comments wrapper (kept unchanged visually) */
.comments-wrap{
  width:92%; max-width:820px; margin:12px auto 0; padding:12px;
  background: linear-gradient(180deg, rgba(0,0,0,0.03), rgba(0,0,0,0.02));
  border-radius:12px; border:1px solid rgba(0,255,156,0.06);
}
.comments-list{ width:100%; max-height:260px; padding:6px; overflow:auto; display:flex; flex-direction:column; gap:10px; }

/* Comment card */
.comment{
  display:flex; gap:12px; align-items:flex-start; background: linear-gradient(180deg, rgba(0,10,8,0.55), rgba(0,0,0,0.45));
  border:1.5px solid rgba(0,255,156,0.08); border-radius:10px; padding:10px; box-shadow:0 6px 18px rgba(0,0,0,0.5); color:var(--neon);
}
.comment-meta{ display:flex; flex-direction:column; gap:6px; align-items:center; min-width:84px; flex-shrink:0; }
.comment-meta strong{ color:var(--neon); font-size:13px; text-align:center; }
.comment-body{ background:rgba(0,0,0,0.04); padding:8px 10px; border-radius:8px; color:#aaffdf; line-height:1.35; font-size:14px; flex:1; }

/* Comment input row */
.comment-row{ display:flex; gap:8px; margin-top:8px; align-items:center; }
.comment-input{ flex:1; padding:8px 10px; border-radius:8px; border:1px solid rgba(0,255,156,0.08); background:rgba(0,0,0,0.06); color:var(--neon); }
.comment-send{ padding:8px 12px; border:2px solid var(--neon); background:transparent; color:var(--neon); border-radius:8px; }
.comment-send:hover{ background:var(--neon); color:#002; }

/* Achievements modal (kept, cleaned) */
#achievementsModal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:220; padding:24px; }
#achievementsModal.hidden{ display:none; }
#achievementsModal .ach-card{
  width:720px; max-width:96%; background: linear-gradient(180deg, rgba(0,6,4,0.9), rgba(0,0,0,0.6));
  border:2px solid rgba(0,255,156,0.14); padding:18px; border-radius:14px; color:var(--neon); box-shadow:0 20px 60px rgba(0,0,0,0.6);
}
.ach-grid{ display:flex; gap:14px; justify-content:center; align-items:flex-start; flex-wrap:wrap; padding-top:8px; }
.ach-item-card{ width:200px; text-align:center; color:var(--neon); }
.ach-img-wrap{ width:120px; height:120px; margin:0 auto; border-radius:12px; overflow:hidden; position:relative; border:3px solid rgba(0,255,156,0.08); background:rgba(0,0,0,0.08); }
.ach-img-wrap img{ width:100%; height:100%; object-fit:cover; display:block; }
.ach-img-wrap.locked img{ filter:grayscale(1) brightness(.55); opacity:.6; }
.ach-img-wrap .lock-overlay{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size:28px; color:rgba(0,255,156,0.9); background: linear-gradient(180deg, rgba(0,0,0,0.15), rgba(0,0,0,0.35)); }
.ach-title{ margin-top:8px; font-weight:700; color:var(--neon); }
.ach-date{ margin-top:6px; font-size:12px; color:#aaffdf; }

/* Leaderboard */
.leaderboard{ padding:8px 6px; list-style:none; margin:0; }
.leaderboard li{ display:flex; justify-content:space-between; padding:6px 8px; border-bottom:1px dashed rgba(0,255,156,0.04); color:var(--muted); align-items:center }

/* Small helpers */
.small{ font-size:13px; color:var(--muted) }
.muted{ color:rgba(255,255,255,0.6) }

/* Desktop-focused final layout override (site desktop-only as requested) */
@media (min-width:1000px){
  .post{ padding:18px; }
  .post-actions .btn{ min-width:120px; }
}

/* Responsiveness fallback (keeps desktop behavior stable) */
@media (max-width:999px){
  .grid-layout{ grid-template-columns:1fr; padding:12px; gap:12px; }
  .post{ padding:14px; }
  .post-top-actions .btn, .post-actions .btn{ min-width:auto; padding:8px 10px; }
}

/* Remove leftover orb/canvas if present (safety) */
/* #xpOrb, #neonCanvas, #achModal { display:none !important; pointer-events:none !important; } */

/* Neon background canvas (bubbles) - garantir visível */
#neonCanvas{
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  mix-blend-mode: screen;
  filter: blur(6px) saturate(1.05);
}

/* Achievements modal styling (garante que apareça) */
#achievementsModal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:220; padding:24px; }
#achievementsModal.hidden{ display:none; }
#achievementsModal .ach-card{ width:720px; max-width:96%; background: linear-gradient(180deg, rgba(0,6,4,0.9), rgba(0,0,0,0.6)); border:2px solid rgba(0,255,156,0.14); padding:18px; border-radius:14px; color:var(--neon); box-shadow:0 20px 60px rgba(0,0,0,0.6); }

/* Scrollbars estilizadas (desktop) — match neon theme */
body, .grid-layout, .course-grid, .comments-list, .comments-wrap, .feed {
  scrollbar-width: thin;
  scrollbar-color: rgba(0,255,156,0.18) rgba(0,0,0,0.12);
}

/* Webkit-based browsers */
body::-webkit-scrollbar,
.grid-layout::-webkit-scrollbar,
.course-grid::-webkit-scrollbar,
.comments-list::-webkit-scrollbar,
.comments-wrap::-webkit-scrollbar,
.feed::-webkit-scrollbar {
  height:10px;
  width:12px;
}

body::-webkit-scrollbar-track,
.grid-layout::-webkit-scrollbar-track,
.course-grid::-webkit-scrollbar-track,
.comments-list::-webkit-scrollbar-track,
.comments-wrap::-webkit-scrollbar-track,
.feed::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 10px;
  box-shadow: inset 0 0 0 1px rgba(0,255,156,0.02);
}

body::-webkit-scrollbar-thumb,
.grid-layout::-webkit-scrollbar-thumb,
.course-grid::-webkit-scrollbar-thumb,
.comments-list::-webkit-scrollbar-thumb,
.comments-wrap::-webkit-scrollbar-thumb,
.feed::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(0,255,156,0.22), rgba(0,200,140,0.14));
  border-radius: 10px;
  border: 2px solid rgba(0,0,0,0.18);
  box-shadow: 0 6px 18px rgba(0,255,156,0.04) inset;
}

/* hover state for thumb (visual feedback) */
body::-webkit-scrollbar-thumb:hover,
.comments-list::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, rgba(0,255,156,0.34), rgba(0,215,138,0.20));
}

/* ensure comments-list has nice internal scroll area */
.comments-list {
  padding-right: 6px; /* avoid content under custom scrollbar visual */
}